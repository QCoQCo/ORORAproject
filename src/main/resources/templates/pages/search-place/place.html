<!DOCTYPE html>
<html
    xmlns:th="http://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{layouts/layout}"
    lang="ko"
>
    <head>
        <title layout:fragment="title" data-translate="place.title">searchByPlace</title>
        <th:block layout:fragment="css">
            <link rel="stylesheet" th:href="@{/css/searchBy/place.css}" />
            <link rel="stylesheet" th:href="@{/css/list-component.css}" />
            <link rel="stylesheet" th:href="@{/css/loading-animation.css}" />
        </th:block>
    </head>
    <body>
        <div layout:fragment="content">
            <!-- Hero Section -->
            <section class="hero-section">
                <div class="hero-background"></div>
                <div class="hero-content">
                    <h1 class="hero-title" data-translate="place.title">부산 지역별 관광지</h1>
                    <p class="hero-subtitle" data-translate="place.subtitle">
                        지도에서 원하는 지역을 선택하여 관광지를 탐색해보세요
                    </p>
                </div>
            </section>

            <section class="search-place">
                <!-- 지도 섹션 (전체 화면) -->
                <div class="map-fullscreen">
                    <div class="wave-background"></div>
                    <div id="map-container">
                        <svg
                            id="mapSvg"
                            xmlns="http://www.w3.org/2000/svg"
                            width="100%"
                            height="100%"
                            version="1.1"
                            viewBox="0 0 1000 820"
                        ></svg>
                    </div>
                </div>

                <!-- 리스트 섹션 (오른쪽 sticky) -->
                <div class="list-section-sticky">
                    <button
                        class="list-toggle-btn"
                        id="listToggleBtn"
                        aria-label="리스트 숨기기/보이기"
                    >
                        <span class="toggle-arrow">▶</span>
                    </button>
                    <div class="list-card">
                        <div class="list-header">
                            <p id="region-subtitle">
                                지도에서 지역을 클릭하면 해당 지역의 관광지를 확인할 수 있습니다.
                            </p>
                            <!-- 지역 선택 컨트롤 (작게) -->
                            <div class="control-panel-compact">
                                <div class="control-toggle-compact">
                                    <button class="toggle-button-compact" id="controlToggle">
                                        <span
                                            class="toggle-text-compact"
                                            data-translate="place.control_toggle"
                                            >지역 선택 옵션</span
                                        >
                                        <span class="toggle-icon-compact">▼</span>
                                    </button>
                                </div>
                                <div class="control-content-compact" id="controlContent">
                                    <div class="control-description-compact">
                                        <p
                                            id="selection-info"
                                            data-translate="place.selection_info"
                                        >
                                            지도에서 지역을 클릭하여 선택/해제할 수 있습니다.
                                        </p>
                                    </div>
                                    <div class="control-buttons-compact">
                                        <button
                                            class="control-button-compact btn-secondary-compact"
                                            data-translate="place.clear_all"
                                        >
                                            전체 해제
                                        </button>
                                        <button
                                            class="control-button-compact btn-primary-compact"
                                            data-translate="place.view_selected"
                                        >
                                            선택된 지역 보기
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="list-content">
                            <ul class="list-item" id="tourist-spots-list">
                                <!-- 관광지 리스트가 여기에 동적으로 추가됩니다 -->
                            </ul>
                        </div>
                    </div>
                </div>
            </section>

            <!-- 템플릿 컨테이너 -->
            <div
                id="list-template-container"
                th:replace="~{components/list-item.html :: list-item-template}"
            ></div>
        </div>
        <th:block layout:fragment="script">
            <script th:src="@{/js/list-loader.js}"></script>
            <script th:src="@{/js/searchBy/place.js}"></script>
        </th:block>
    </body>
</html>
